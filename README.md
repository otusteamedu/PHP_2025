# PHP_2025

https://otus.ru/lessons/razrabotchik-php/?utm_source=github&utm_medium=free&utm_campaign=otus

## Домашнее задание к уроку 29. Очереди. Часть 2

**Пишем приложение обработки отложенных запросов.**

1. Создать простое веб-приложение, принимающее POST запрос из формы от пользователя. Например, запрос на генерацию
   банковской выписки за указанные даты.

1.1. Обычно такие запросы (в реальных системах) работают довольно долго, поэтому пользователя надо оповестить о том, что
запрос принят в обработку

1.2. Форма должна подразумевать отправку оповещения по результатам работы

2. Передать тело запроса в очередь

3. Написать скрипт, который будет читать сообщения из очереди и выводить информацию о них в консоль

4*. Реализация оповещения

4.1. Сгенерированный ответ отправить через email или telegram

Приложить инструкцию по запуску системы

## Инструкция по запуску

1. Скопировать файл `.env.example` в файл `.env` и прописать в нем необходимые параметры
2. Выполнить команду

```
make init
```

3. Выполнить POST запрос

```
curl --location 'http://localhost/' \
--form 'email="your@email.example"' \
--form 'startDate="2025-05-01"' \
--form 'endDate="2025-06-01"'
```

4. В случае успешного принятия запроса приложение вернет сообщение

```
{
    "message": "Your bank statement request has been successfully accepted."
}
```

5. После чтения сообщения из очереди и его обработки в UI для MailHog появится отправленное на указанный e-mail письмо с
   темой `"Bank statement"` и сообщением `"Your bank statement from 2025-05-01 to 2025-06-01 is ready."`. Также в
   консоли выведется информация о сообщении из очереди.

**UI для RabbitMQ:**

```
http://localhost:15672
```

**UI для MailHog:**

```
http://localhost:8025
```