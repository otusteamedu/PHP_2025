# üêß –î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ ‚Ññ2 ‚Äî Bash-—Å–∫—Ä–∏–ø—Ç—ã

## ‚ú® –¶–µ–ª—å

* –û—Å–≤–æ–∏—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–∏–µ Bash-—Å–∫—Ä–∏–ø—Ç–æ–≤ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤—ã—Ö –∑–∞–¥–∞—á.
* –ù–∞—É—á–∏—Ç—å—Å—è —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∞—Ä–≥—É–º–µ–Ω—Ç–∞–º–∏, —É—Å–ª–æ–≤–∏—è–º–∏, —Ä–µ–≥—É–ª—è—Ä–Ω—ã–º–∏ –≤—ã—Ä–∞–∂–µ–Ω–∏—è–º–∏.
* –ü—Ä–∏–º–µ–Ω–∏—Ç—å —É—Ç–∏–ª–∏—Ç—ã Linux (awk, sort, uniq, head) –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–∞–±–ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
* –ü–æ–≤—ã—Å–∏—Ç—å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ —Ä–∞–±–æ—Ç–µ —Å shell-–æ–∫—Ä—É–∂–µ–Ω–∏–µ–º –∏ Docker.

---

## üßπ –ó–∞–¥–∞–Ω–∏—è

### 1. üíü –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—É–º–º—ã

–°–æ–∑–¥–∞–π—Ç–µ Bash-—Å–∫—Ä–∏–ø—Ç `sum.sh`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç **–¥–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞** (–≤–µ—â–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏–ª–∏ —Ü–µ–ª—ã–µ —á–∏—Å–ª–∞, –≤ —Ç–æ–º —á–∏—Å–ª–µ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ) –∏ –≤—ã–≤–æ–¥–∏—Ç –∏—Ö **—Å—É–º–º—É**:

```bash
    ./sum.sh 1.5 -7
```

> üí° –°–∫—Ä–∏–ø—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä—è—Ç—å, —á—Ç–æ –æ–±–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ —è–≤–ª—è—é—Ç—Å—è —á–∏—Å–ª–∞–º–∏. –ü—Ä–∏ –Ω–µ–≤–µ—Ä–Ω—ã—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö ‚Äî –≤—ã–≤–µ—Å—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ –∏ –∑–∞–≤–µ—Ä—à–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å –Ω–µ–Ω—É–ª–µ–≤—ã–º –∫–æ–¥–æ–º.
>
> üîß –í —Å–ª—É—á–∞–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è `bc` –≤ —Å–∏—Å—Ç–µ–º–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–∏—Ç–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É –∏–ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–∫–∏.

---

### üåÜ –¢–æ–ø-–≥–æ—Ä–æ–¥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

–ò–º–µ–µ—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ñ–∞–π–ª–µ `data/users.txt` —Å–ª–µ–¥—É—é—â–µ–≥–æ –≤–∏–¥–∞:

```
id user city phone
1 test Moscow 1234123
2 test2 Saint-P 1232121
3 test3 Tver 4352124
4 test4 Milan 7990923
5 test5 Moscow 908213
```

–ó–∞–¥–∞—á–∞ ‚Äî –≤—ã–≤–µ—Å—Ç–∏ **—Ç–æ–ø-3 —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –≥–æ—Ä–æ–¥–∞** –ø–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ü–µ–ø–æ—á–∫—É —É—Ç–∏–ª–∏—Ç: `awk`, `sort`, `uniq`, `head`.

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞:

```bash
    ./scripts/top_cities.sh data/users.txt
```

–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:

```
Moscow 2
Saint-P 1
Tver 1
```

---

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ Docker

–°–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –≤ `/usr/local/bin` –ø—Ä–∏ —Å–±–æ—Ä–∫–µ Docker-–æ–∫—Ä—É–∂–µ–Ω–∏—è, –ø–æ—ç—Ç–æ–º—É –≤—Ä—É—á–Ω—É—é –Ω–∏—á–µ–≥–æ –¥–µ–ª–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ.

### üîß –ó–∞–ø—É—Å–∫ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
    docker compose up -d
```

### üíª –í—Ö–æ–¥ –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä

```bash
    docker compose exec bash-container bash
```

–¢–µ–ø–µ—Ä—å —Å–∫—Ä–∏–ø—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã –∫–∞–∫ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
    sum 1.5 -7
    top_cities /project/data/users.txt
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
hw02-bash/
‚îú‚îÄ‚îÄ docker/
‚îÇ   ‚îî‚îÄ‚îÄ bash.Dockerfile
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îú‚îÄ‚îÄ sum.sh             # —Å–∫—Ä–∏–ø—Ç-–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ top_cities.sh      # –∞–Ω–∞–ª–∏–∑ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –≥–æ—Ä–æ–¥–æ–≤
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îî‚îÄ‚îÄ users.txt          # —Ç–∞–±–ª–∏—Ü–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îú‚îÄ‚îÄ docker-compose.yml     # –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
‚îî‚îÄ‚îÄ README.md              # –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
```

---

## üìÉ –ü–æ–ª–µ–∑–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

* [–ü—Ä–∏–º–µ—Ä—ã bash-—Å–∫—Ä–∏–ø—Ç–æ–≤](https://github.com/ruanyf/simple-bash-scripts)
* [–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞ –≤ Bash: Habr](https://habr.com/ru/articles/336596/)
* [awk, uniq, sort –≤ –∑–∞–¥–∞—á–∞—Ö](https://habr.com/ru/companies/ruvds/articles/325522/)
* [–†–∞–±–æ—Ç–∞ —Å rsync](https://selectel.ru/blog/rsync-guide/)

---