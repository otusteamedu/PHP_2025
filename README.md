# ДЗ №20 - Проектирование API

## Описание задания

Необходимо реализовать Rest API с использованием очередей.

Ваши клиенты будут отправлять запросы на обработку, а вы будете складывать их в очередь и возвращать номер запроса.

В фоновом режиме вы будете обрабатывать запросы, а ваши клиенты периодически, используя номер запроса, будут проверять
статус его обработки.

Разрешается:

- Использование Composer-зависимостей
- Использование микрофреймворков (Lumen, Silex и т.п.)

## Решение
### Настройка
1. Переименовать `.env.example` в `.env`
2. Скорректировать переменные:

| Переменная        | Назначение                                           |
|-------------------|------------------------------------------------------|
| RMQ_HOST          | Хост RabbitMQ                                        |
| RMQ_PORT          | Порт RabbitMQ                                        |
| RMQ_USER          | Пользователь RabbitMQ                                |
| RMQ_PASSWORD      | Пароль RabbitMQ                                      |
| RMQ_QUEUE_NAME    | Имя очереди                                          |
| RMQ_EXCHANGE_NAME | Имя обменника                                        |

### Запуск
1. Запускаем контейнеры

```shell
docker-compose -f docker-compose.yml up -d
```

2. Дожидаемся загрузки конейнера `otus_rabbit_mq` (пока не запуститься контейнер, websocket и worker не запустятся)
3. Откройте в браузере: [http://localhost/docs](http://localhost/docs)
