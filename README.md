## Описание тест кейсов "ДЗ: Разработка кейсов тестирования"

### Модульные тесты
Тесты полей JSON-объекта на корректность. Поля:

**card_number**
- Провален, если не ровен 16-ти символам - "Поле Номер карты некорректно"
- Провален, если присутствуют какие-либо символы, помимо цифр - "Поле Номер карты некорректно"
- Пройден, если присутствуют 16 чисел

**card_holder**
- Провален, если присутствуют какие-либо символы, помимо латинских букв, дефиса и пробела - "Поле Владелец карты некорректно"
- Пройден, если присутствуют 1 пробел - "Поле Владелец карты некорректно"
- Пройден, если присутствуют 2 слова

**card_expiration**
- Провален, если не соответствуют выражению ^\d{2}\/\d{2}$ - "Поле Окончания действия карты некорректно"
- Провален, если mm более числа 12 - "Поле Окончания действия карты некорректно"
- Пройден, если соответствуют выражению ^\d{2}\/\d{2}$ и mm не более числа 12

**cvv**
- Провален, если не ровно 3 символам - "Поле Код подтверждения карты некорректно"
- Провален, если присутствуют какие-либо символы, помимо цифр - "Поле Код подтверждения карты некорректно"
- Пройден, если присутствует ровно 3 цифры

**order_number**
- Провален, если более 16-ти символов - "Поле Номер заказа некорректно"
- Провален, если пустая строка - "Поле Номер заказа некорректно"
- Пройден, если присутствует до 16 символов

**sum**
- Провален, если не соответствует выражению ^\d+,\d{2}$ - "Поле Сумма оплаты некорректно"
- Провален, если число отрицательное - "Поле Сумма оплаты некорректно"
- Пройден, если соответствует выражению ^\d+,\d{2}$ и положительно

### Интеграционные тесты

**Фронт -> Бек**

 1 ) При ошибке в полях:
- Если какое-либо поле из выше указанных (card_number, card_holder...) некорректно было введено, то возвращается сообщение со статусом 400
- Соответствующее поле или поля выделяются красной рамкой
- Отображается сообщение под некорректно введенным полем

 2 ) При успехе:
- Ответ возврата 200 с необходимыми данными
- Поступление уведомления об оплате
- Переход на страницу успешной оплаты и благодарности (например)

**Бек -> Репозиторий**
- Провален, если при вызове метода setOrderIsPaid выбрасывает исключение
- Пройден, если setOrderIsPaid возвращает true

При успехе, проверка на передачу валидных данных, получаем успешный ответ и его обработка и проверка
При провале, получение исключения и его обработка

**Бек -> Сервис А**
 1 ) При успехе:
- Отправка валидного запроса
- Проверка данных на корректность и получение статуса ответа 200
- Обработка ответа

 2 ) При успехе:
- Отправка запроса
- Проверка данных на корректность и получение статуса ответа 403
- Обработка исключения

### Системные тесты
**Проверка сценария оплаты**
- Проверка данных от Фронта
- Отправка данных в Сервис А и проверка, обработка ответа от этого сервиса
- Отправка данных в репозиторий и проверка, обработка ответа от репозитория
- Отправка данных на фронт и их отображение об оплате
- Переход на страницу успешной оплаты и благодарности

**Провал при сохранении данных в репозиторий**
- Бек отправляет запрос в репозиторий и получает ответ с ошибкой
- Бек возвращает сообщение об ошибке со статусом ошибки клиента или сервера
- Фронт отображает сообщение об ошибке
- Отправка уведомления ответственным лицами
- Отправка уведомления в сервисы ошибок и логов

**Провал при взаимодействии с Сервисом А**
- Сервис А возвращает 403 или иной ошибочный статус
- Бек возвращает ответ со статусом ошибки клиента или сервера
- Фронт отображает сообщение об ошибке
- Отправка уведомления ответственным лицами (при системной ошибке)
- Отправка уведомления в сервисы ошибок и логов (при системной ошибке)
