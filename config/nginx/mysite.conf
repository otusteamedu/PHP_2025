server {
    server_name application.local;
    listen 80;

    # Default encoding
    charset utf-8;

    # The main directory of your store
    root /var/www/html;

    index  index.php index.html index.htm;

    # Compression
    gzip on;
    gzip_disable "msie6";
    gzip_comp_level 6;
    gzip_min_length  1100;
    gzip_buffers 16 8k;
    gzip_proxied any;
    gzip_types text/plain
        application/xml
        application/javascript
        text/css
        text/js
        text/xml
        application/x-javascript
        text/javascript
        application/json
        application/xml+rss;

    # Other settings
    client_max_body_size            100m;
    client_body_buffer_size         128k;
    client_header_timeout           10m;
    client_body_timeout             10m;
    send_timeout                    10m;
    client_header_buffer_size       1k;
    large_client_header_buffers     4 16k;

    access_log  /dev/stdout combined;
    error_log   /dev/stderr;

    error_page 598 = @backend;

    location ~* .(jpg|jpeg|gif|css|png|js|ico|html)$ {
            access_log off;
            expires max;
    }

    location / {
            try_files $uri $uri/ /index.php?$query_string;
    }

    location ~* .php$ {
            try_files $uri = 404;
            fastcgi_split_path_info ^(.+.php)(/.+)$;
            fastcgi_pass unix:/var/run/php/php-fpm.sock;
            fastcgi_index index.php;
            fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
            include fastcgi_params;
    }
    location ~ /\.(ht|git) {
        return 404;
    }


}