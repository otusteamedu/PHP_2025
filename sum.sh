#!/bin/bash

# Функция для вывода сообщения об ошибке и завершения скрипта
error_exit() {
  echo "Ошибка: $1" >&2
  exit 1
}

# Проверка количества аргументов
if [ $# -ne 2 ]; then
  error_exit "Неверное количество аргументов. Ожидается 2 числа."
fi

# Проверка, что аргументы являются числами
for i in "$@"; do
  if ! [[ "$i" =~ ^-?[0-9]+(\.[0-9]+)?$ ]]; then
    error_exit "Аргумент '$i' не является числом."
  fi
done

# Проверка наличия пакета bc
if command -v bc > /dev/null 2>&1; then
  # Использование bc для более точного расчета вычислений с плавающей точкой
  result=$(echo "$1 + $2" | bc)
else
  # Использование awk, на случай если bc не установлен
  result=$(awk -v a="$1" -v b="$2" 'BEGIN {print a + b}')
fi

# Вывод результата
echo "Сумма: $result"
