CREATE TABLE movies (
    id SERIAL PRIMARY KEY,
    title VARCHAR(255) NOT NULL
);

CREATE TABLE attribute_types (
    id SERIAL PRIMARY KEY,
    name VARCHAR(50) UNIQUE NOT NULL
);

CREATE TABLE attributes (
    id SERIAL PRIMARY KEY,
    name VARCHAR(50) UNIQUE NOT NULL,
    attribute_type_id INT NOT NULL REFERENCES attribute_types(id) ON DELETE CASCADE
);

CREATE TABLE attribute_values (
    id SERIAL PRIMARY KEY,
    movie_id INT NOT NULL REFERENCES movies(id) ON DELETE CASCADE,
    attribute_id INT NOT NULL REFERENCES attributes(id) ON DELETE CASCADE,
    value_text TEXT NULL,
    value_date DATE NULL,
    value_boolean BOOLEAN NULL,
    value_numeric NUMERIC(10,2) NULL,
    value_int INT NULL
);