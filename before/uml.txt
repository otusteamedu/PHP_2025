@startuml
class BaseController {
  +getRequestData(): array
  +getDataFiles(): array
}

class FileController {
  -fileService: FileService
  +listFiles(): array
  +fileInfo(id: int): array
  +addFile(): array|bool
  +addDirectory(): bool
  +directoryInfo(id: int): array
  -getFileService(): FileService
}

class FileService {
  -fileRepository: FileRepository
  -directoryRepository: DirectoryRepository
  +getList(): array
  +getFile(id: int): FileModel
  +addNewFile(name: string, tmp: string): bool
  +addDirectory(directoryName: string): bool
  +getDirectoryInfo(id: int): array
  -getFileRepository(): FileRepository
  -getDirectoryRepository(): DirectoryRepository
}

class FileRepository {
  -pdo: PDO
  +getFilesList(): array
  +getFileById(id: int): FileModel
  +saveFile(fileName: string): bool
}

class DirectoryRepository {
  -pdo: PDO
  +saveDirectory(directoryName: string): bool
  +getDirectory(id: int): array
}

class FileModel {
  -id: int
  -fileName: string
  +create(fileName: string): FileModel
  +setId(id: int): self
  +getFileName(): string
  +toArray(): array
}

BaseController <|-- FileController
FileController --> FileService
FileService --> FileRepository
FileService --> DirectoryRepository
FileRepository --> FileModel
@enduml