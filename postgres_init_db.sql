CREATE TABLE movie_room_types (
    mrt_id SERIAL PRIMARY KEY,
    mrt_title VARCHAR(100) NOT NULL,
    mrt_price DECIMAL(10, 2) NOT NULL
);

INSERT INTO
    movie_room_types (mrt_title, mrt_price)
VALUES ('standard', 300),
    ('premium', 400);

CREATE TABLE movie_rooms (
    mr_id SERIAL PRIMARY KEY,
    mr_type INT NOT NULL,
    FOREIGN KEY (mr_type) REFERENCES movie_room_types (mrt_id) ON UPDATE CASCADE ON DELETE CASCADE
);

INSERT INTO movie_rooms (mr_type) VALUES (1), (1), (2);

CREATE TABLE genres (
    genre_id SERIAL PRIMARY KEY,
    genre_title VARCHAR(100) NOT NULL
);

INSERT INTO
    genres (genre_title)
VALUES ('триллер'),
    ('драма'),
    ('романтика'),
    ('комедия'),
    ('боевик'),
    ('фантастика'),
    ('фэнтези'),
    ('ужасы'),
    ('авторское кино');

CREATE TABLE movie_age_ratings (
    mar_id SERIAL PRIMARY KEY,
    mar_title VARCHAR(10) NOT NULL
);

INSERT INTO
    movie_age_ratings (mar_title)
VALUES ('PG-13'),
    ('R'),
    ('PG');

CREATE TABLE movies (
    movie_id SERIAL PRIMARY KEY,
    movie_title VARCHAR(200) NOT NULL,
    movie_duration INT NOT NULL,
    movie_age_rating INT NOT NULL,
    movie_description TEXT,
    movie_image VARCHAR(500),
    FOREIGN KEY (movie_age_rating) REFERENCES movie_age_ratings (mar_id) ON UPDATE CASCADE ON DELETE CASCADE
);

INSERT INTO
    movies (
        movie_title,
        movie_duration,
        movie_age_rating,
        movie_description
    )
VALUES (
        'Звёздные Путешественники',
        120,
        1,
        'В далеком будущем группа смелых исследователей отправляется в захватывающее путешествие через галактики, чтобы найти новый дом для человечества. На их пути они сталкиваются с неизведанными мирами, опасными существами и загадками, которые могут изменить судьбу всей цивилизации.'
    ),
    ('Тени Прошлого', 95, 2, NULL),
    ('Смешные Соседи', 85, 3, NULL),
    (
        'Ночь Воскрешения',
        100,
        2,
        NULL
    ),
    (
        'Сердца на Льду',
        115,
        1,
        NULL
    ),
    (
        'Гонка на Грани',
        130,
        2,
        NULL
    ),
    (
        'Приключения Лесного Друга',
        180,
        2,
        NULL
    ),
    ('Сквозь Века', 125, 1, NULL);

CREATE TABLE movies_genres (
    mg_movie INT NOT NULL,
    mg_genre INT NOT NULL,
    PRIMARY KEY (mg_movie, mg_genre),
    FOREIGN KEY (mg_movie) REFERENCES movies (movie_id) ON UPDATE CASCADE ON DELETE CASCADE,
    FOREIGN KEY (mg_genre) REFERENCES genres (genre_id) ON UPDATE CASCADE ON DELETE CASCADE
);

INSERT INTO
    movies_genres (mg_movie, mg_genre)
VALUES (1, 6),
    (2, 1),
    (2, 2),
    (3, 4),
    (4, 8),
    (5, 3),
    (6, 5),
    (7, 9),
    (7, 8),
    (8, 7);

CREATE TABLE movie_sessions (
    ms_id SERIAL PRIMARY KEY,
    ms_movie_room INT NOT NULL,
    ms_movie INT NOT NULL,
    ms_start_time TIMESTAMP NOT NULL,
    FOREIGN KEY (ms_movie_room) REFERENCES movie_rooms (mr_id) ON UPDATE CASCADE ON DELETE CASCADE,
    FOREIGN KEY (ms_movie) REFERENCES movies (movie_id) ON UPDATE CASCADE ON DELETE CASCADE,
    UNIQUE (
        ms_movie_room,
        ms_movie,
        ms_start_time
    )
);

INSERT INTO
    movie_sessions (
        ms_movie_room,
        ms_movie,
        ms_start_time
    )
VALUES (1, 8, '2025-08-05 10:00:00'),
    (1, 5, '2025-08-05 12:15:00'),
    (1, 5, '2025-08-05 14:30:00'),
    (1, 6, '2025-08-05 16:55:00'),
    (1, 6, '2025-08-05 19:15:00'),
    (1, 6, '2025-08-05 21:35:00'),
    (1, 4, '2025-08-05 23:55:00'),
    (2, 3, '2025-08-05 10:00:00'),
    (2, 3, '2025-08-05 11:45:00'),
    (2, 3, '2025-08-05 13:05:00'),
    (2, 3, '2025-08-05 14:50:00'),
    (2, 6, '2025-08-05 16:10:00'),
    (2, 6, '2025-08-05 18:40:00'),
    (2, 6, '2025-08-05 20:55:00'),
    (2, 7, '2025-08-05 23:10:00'),
    (3, 3, '2025-08-05 10:00:00'),
    (3, 3, '2025-08-05 11:45:00'),
    (3, 3, '2025-08-05 13:10:00'),
    (3, 2, '2025-08-05 14:55:00'),
    (3, 2, '2025-08-05 16:30:00'),
    (3, 2, '2025-08-05 18:10:00'),
    (3, 2, '2025-08-05 19:55:00'),
    (3, 7, '2025-08-05 21:30:00'),
    (1, 8, '2025-08-06 10:00:00'),
    (1, 5, '2025-08-06 12:15:00'),
    (1, 5, '2025-08-06 14:30:00'),
    (1, 6, '2025-08-06 16:55:00'),
    (1, 6, '2025-08-06 19:15:00'),
    (1, 6, '2025-08-06 21:35:00'),
    (1, 4, '2025-08-06 23:55:00'),
    (2, 3, '2025-08-06 10:00:00'),
    (2, 3, '2025-08-06 11:45:00'),
    (2, 3, '2025-08-06 13:05:00'),
    (2, 3, '2025-08-06 14:50:00'),
    (2, 6, '2025-08-06 16:10:00'),
    (2, 6, '2025-08-06 18:40:00'),
    (2, 6, '2025-08-06 20:55:00'),
    (2, 7, '2025-08-06 23:10:00'),
    (3, 3, '2025-08-06 10:00:00'),
    (3, 3, '2025-08-06 11:45:00'),
    (3, 3, '2025-08-06 13:10:00'),
    (3, 2, '2025-08-06 14:55:00'),
    (3, 2, '2025-08-06 16:30:00'),
    (3, 2, '2025-08-06 18:10:00'),
    (3, 2, '2025-08-06 19:55:00'),
    (3, 7, '2025-08-06 21:30:00'),
    (1, 8, '2025-08-07 10:00:00'),
    (1, 5, '2025-08-07 12:15:00'),
    (1, 5, '2025-08-07 14:30:00'),
    (1, 6, '2025-08-07 16:55:00'),
    (1, 6, '2025-08-07 19:15:00'),
    (1, 6, '2025-08-07 21:35:00'),
    (1, 4, '2025-08-07 23:55:00'),
    (2, 3, '2025-08-07 10:00:00'),
    (2, 3, '2025-08-07 11:45:00'),
    (2, 3, '2025-08-07 13:05:00'),
    (2, 3, '2025-08-07 14:50:00'),
    (2, 6, '2025-08-07 16:10:00'),
    (2, 6, '2025-08-07 18:40:00'),
    (2, 6, '2025-08-07 20:55:00'),
    (2, 7, '2025-08-07 23:10:00'),
    (3, 3, '2025-08-07 10:00:00'),
    (3, 3, '2025-08-07 11:45:00'),
    (3, 3, '2025-08-07 13:10:00'),
    (3, 2, '2025-08-07 14:55:00'),
    (3, 2, '2025-08-07 16:30:00'),
    (3, 2, '2025-08-07 18:10:00'),
    (3, 2, '2025-08-07 19:55:00'),
    (3, 7, '2025-08-07 21:30:00'),
    (1, 8, '2025-08-08 10:00:00'),
    (1, 5, '2025-08-08 12:15:00'),
    (1, 5, '2025-08-08 14:30:00'),
    (1, 6, '2025-08-08 16:55:00'),
    (1, 6, '2025-08-08 19:15:00'),
    (1, 6, '2025-08-08 21:35:00'),
    (1, 4, '2025-08-08 23:55:00'),
    (2, 3, '2025-08-08 10:00:00'),
    (2, 3, '2025-08-08 11:45:00'),
    (2, 3, '2025-08-08 13:05:00'),
    (2, 3, '2025-08-08 14:50:00'),
    (2, 6, '2025-08-08 16:10:00'),
    (2, 6, '2025-08-08 18:40:00'),
    (2, 6, '2025-08-08 20:55:00'),
    (2, 7, '2025-08-08 23:10:00'),
    (3, 3, '2025-08-08 10:00:00'),
    (3, 3, '2025-08-08 11:45:00'),
    (3, 3, '2025-08-08 13:10:00'),
    (3, 2, '2025-08-08 14:55:00'),
    (3, 2, '2025-08-08 16:30:00'),
    (3, 2, '2025-08-08 18:10:00'),
    (3, 2, '2025-08-08 19:55:00'),
    (3, 7, '2025-08-08 21:30:00'),
    (1, 8, '2025-08-09 10:00:00'),
    (1, 5, '2025-08-09 12:15:00'),
    (1, 5, '2025-08-09 14:30:00'),
    (1, 6, '2025-08-09 16:55:00'),
    (1, 6, '2025-08-09 19:15:00'),
    (1, 6, '2025-08-09 21:35:00'),
    (1, 4, '2025-08-09 23:55:00'),
    (2, 3, '2025-08-09 10:00:00'),
    (2, 3, '2025-08-09 11:45:00'),
    (2, 3, '2025-08-09 13:05:00'),
    (2, 3, '2025-08-09 14:50:00'),
    (2, 6, '2025-08-09 16:10:00'),
    (2, 6, '2025-08-09 18:40:00'),
    (2, 6, '2025-08-09 20:55:00'),
    (2, 7, '2025-08-09 23:10:00'),
    (3, 3, '2025-08-09 10:00:00'),
    (3, 3, '2025-08-09 11:45:00'),
    (3, 3, '2025-08-09 13:10:00'),
    (3, 2, '2025-08-09 14:55:00'),
    (3, 2, '2025-08-09 16:30:00'),
    (3, 2, '2025-08-09 18:10:00'),
    (3, 2, '2025-08-09 19:55:00'),
    (3, 7, '2025-08-09 21:30:00'),
    (1, 8, '2025-08-10 10:00:00'),
    (1, 5, '2025-08-10 12:15:00'),
    (1, 5, '2025-08-10 14:30:00'),
    (1, 6, '2025-08-10 16:55:00'),
    (1, 6, '2025-08-10 19:15:00'),
    (1, 6, '2025-08-10 21:35:00'),
    (1, 4, '2025-08-10 23:55:00'),
    (2, 3, '2025-08-10 10:00:00'),
    (2, 3, '2025-08-10 11:45:00'),
    (2, 3, '2025-08-10 13:05:00'),
    (2, 3, '2025-08-10 14:50:00'),
    (2, 6, '2025-08-10 16:10:00'),
    (2, 6, '2025-08-10 18:40:00'),
    (2, 6, '2025-08-10 20:55:00'),
    (2, 7, '2025-08-10 23:10:00'),
    (3, 3, '2025-08-10 10:00:00'),
    (3, 3, '2025-08-10 11:45:00'),
    (3, 3, '2025-08-10 13:10:00'),
    (3, 2, '2025-08-10 14:55:00'),
    (3, 2, '2025-08-10 16:30:00'),
    (3, 2, '2025-08-10 18:10:00'),
    (3, 2, '2025-08-10 19:55:00'),
    (3, 7, '2025-08-10 21:30:00'),
    (1, 8, '2025-08-11 10:00:00'),
    (1, 5, '2025-08-11 12:15:00'),
    (1, 5, '2025-08-11 14:30:00'),
    (1, 6, '2025-08-11 16:55:00'),
    (1, 6, '2025-08-11 19:15:00'),
    (1, 6, '2025-08-11 21:35:00'),
    (1, 4, '2025-08-11 23:55:00'),
    (2, 3, '2025-08-11 10:00:00'),
    (2, 3, '2025-08-11 11:45:00'),
    (2, 3, '2025-08-11 13:05:00'),
    (2, 3, '2025-08-11 14:50:00'),
    (2, 6, '2025-08-11 16:10:00'),
    (2, 6, '2025-08-11 18:40:00'),
    (2, 6, '2025-08-11 20:55:00'),
    (2, 7, '2025-08-11 23:10:00'),
    (3, 3, '2025-08-11 10:00:00'),
    (3, 3, '2025-08-11 11:45:00'),
    (3, 3, '2025-08-11 13:10:00'),
    (3, 2, '2025-08-11 14:55:00'),
    (3, 2, '2025-08-11 16:30:00'),
    (3, 2, '2025-08-11 18:10:00'),
    (3, 2, '2025-08-11 19:55:00'),
    (3, 7, '2025-08-11 21:30:00'),
    (1, 8, '2025-08-12 10:00:00'),
    (1, 5, '2025-08-12 12:15:00'),
    (1, 5, '2025-08-12 14:30:00'),
    (1, 6, '2025-08-12 16:55:00'),
    (1, 6, '2025-08-12 19:15:00'),
    (1, 6, '2025-08-12 21:35:00'),
    (1, 4, '2025-08-12 23:55:00'),
    (2, 3, '2025-08-12 10:00:00'),
    (2, 3, '2025-08-12 11:45:00'),
    (2, 3, '2025-08-12 13:05:00'),
    (2, 3, '2025-08-12 14:50:00'),
    (2, 6, '2025-08-12 16:10:00'),
    (2, 6, '2025-08-12 18:40:00'),
    (2, 6, '2025-08-12 20:55:00'),
    (2, 7, '2025-08-12 23:10:00'),
    (3, 3, '2025-08-12 10:00:00'),
    (3, 3, '2025-08-12 11:45:00'),
    (3, 3, '2025-08-12 13:10:00'),
    (3, 2, '2025-08-12 14:55:00'),
    (3, 2, '2025-08-12 16:30:00'),
    (3, 2, '2025-08-12 18:10:00'),
    (3, 2, '2025-08-12 19:55:00'),
    (3, 7, '2025-08-12 21:30:00'),
    (1, 8, '2025-08-13 10:00:00'),
    (1, 5, '2025-08-13 12:15:00'),
    (1, 5, '2025-08-13 14:30:00'),
    (1, 6, '2025-08-13 16:55:00'),
    (1, 6, '2025-08-13 19:15:00'),
    (1, 6, '2025-08-13 21:35:00'),
    (1, 4, '2025-08-13 23:55:00'),
    (2, 3, '2025-08-13 10:00:00'),
    (2, 3, '2025-08-13 11:45:00'),
    (2, 3, '2025-08-13 13:05:00'),
    (2, 3, '2025-08-13 14:50:00'),
    (2, 6, '2025-08-13 16:10:00'),
    (2, 6, '2025-08-13 18:40:00'),
    (2, 6, '2025-08-13 20:55:00'),
    (2, 7, '2025-08-13 23:10:00'),
    (3, 3, '2025-08-13 10:00:00'),
    (3, 3, '2025-08-13 11:45:00'),
    (3, 3, '2025-08-13 13:10:00'),
    (3, 2, '2025-08-13 14:55:00'),
    (3, 2, '2025-08-13 16:30:00'),
    (3, 2, '2025-08-13 18:10:00'),
    (3, 2, '2025-08-13 19:55:00'),
    (3, 7, '2025-08-13 21:30:00');

CREATE TABLE seats (
    seat_id SERIAL PRIMARY KEY,
    seat_row INT NOT NULL,
    seat_cell INT NOT NULL,
    seat_coefficient FLOAT NOT NULL,
    UNIQUE (seat_row, seat_cell)
);

INSERT INTO
    seats (
        seat_row,
        seat_cell,
        seat_coefficient
    )
VALUES (1, 1, 0.9),
    (1, 2, 0.9),
    (1, 3, 0.9),
    (1, 4, 1),
    (1, 5, 1),
    (1, 6, 1),
    (1, 7, 0.9),
    (1, 8, 0.9),
    (1, 9, 0.9),
    (2, 1, 0.9),
    (2, 2, 0.9),
    (2, 3, 1),
    (2, 4, 1),
    (2, 5, 1),
    (2, 6, 1),
    (2, 7, 1),
    (2, 8, 0.9),
    (2, 9, 0.9),
    (3, 1, 0.9),
    (3, 2, 0.9),
    (3, 3, 1),
    (3, 4, 1),
    (3, 5, 1),
    (3, 6, 1),
    (3, 7, 1),
    (3, 8, 0.9),
    (3, 9, 0.9),
    (4, 1, 0.9),
    (4, 2, 0.9),
    (4, 3, 1),
    (4, 4, 1),
    (4, 5, 1),
    (4, 6, 1),
    (4, 7, 1),
    (4, 8, 0.9),
    (4, 9, 0.9),
    (5, 1, 0.9),
    (5, 2, 1),
    (5, 3, 1),
    (5, 4, 1),
    (5, 5, 1),
    (5, 6, 1),
    (5, 7, 1),
    (5, 8, 1),
    (5, 9, 0.9),
    (6, 1, 0.9),
    (6, 2, 1),
    (6, 3, 1),
    (6, 4, 1),
    (6, 5, 1),
    (6, 6, 1),
    (6, 7, 1),
    (6, 8, 1),
    (6, 9, 0.9),
    (7, 1, 0.9),
    (7, 2, 1),
    (7, 3, 1),
    (7, 4, 1),
    (7, 5, 1),
    (7, 6, 1),
    (7, 7, 1),
    (7, 8, 1),
    (7, 9, 0.9);

CREATE TABLE users (
    user_id SERIAL PRIMARY KEY,
    user_firstname VARCHAR(100),
    user_lastname VARCHAR(100),
    user_phone VARCHAR(11) NOT NULL
);

INSERT INTO
    users (
        user_firstname,
        user_lastname,
        user_phone
    )
VALUES (
        'Иван',
        'Иванов',
        '71234567890'
    ),
    (
        'Петр',
        'Петров',
        '71234567891'
    ),
    (
        'Светлана',
        'Светлова',
        '71234567892'
    ),
    (
        'Анна',
        'Антонова',
        '71234567893'
    ),
    (
        'Дмитрий',
        'Дмитриев',
        '71234567894'
    ),
    (
        'Елена',
        'Еленина',
        '71234567895'
    ),
    (
        'Алексей',
        'Алексеев',
        '71234567896'
    ),
    (
        'Мария',
        'Маринина',
        '71234567897'
    ),
    (
        'Николай',
        'Николаев',
        '71234567898'
    ),
    (
        'Ольга',
        'Ольгина',
        '71234567899'
    );

CREATE TABLE orders (
    order_id SERIAL PRIMARY KEY,
    order_user INT NOT NULL,
    order_created_time TIMESTAMP NOT NULL,
    order_payment_time TIMESTAMP,
    FOREIGN KEY (order_user) REFERENCES users (user_id) ON UPDATE CASCADE ON DELETE CASCADE
);

INSERT INTO
    orders (
        order_user,
        order_created_time,
        order_payment_time
    )
VALUES (
        1,
        '2025-08-05 09:00:00',
        '2025-08-05 10:00:00'
    ),
    (
        2,
        '2025-08-05 11:00:00',
        '2025-08-05 12:00:00'
    ),
    (
        3,
        '2025-08-06 13:00:00',
        '2025-08-06 14:00:00'
    ),
    (
        4,
        '2025-08-06 15:00:00',
        '2025-08-06 16:00:00'
    ),
    (
        5,
        '2025-08-07 17:00:00',
        '2025-08-07 18:00:00'
    ),
    (
        6,
        '2025-08-07 19:00:00',
        '2025-08-07 20:00:00'
    ),
    (
        7,
        '2025-08-08 21:00:00',
        '2025-08-08 22:00:00'
    ),
    (
        8,
        '2025-08-08 23:00:00',
        '2025-08-09 00:00:00'
    ),
    (
        9,
        '2025-08-09 01:00:00',
        '2025-08-09 02:00:00'
    ),
    (
        10,
        '2025-08-09 03:00:00',
        '2025-08-09 04:00:00'
    ),
    (
        1,
        '2025-08-10 05:00:00',
        '2025-08-10 06:00:00'
    ),
    (
        2,
        '2025-08-10 07:00:00',
        '2025-08-10 08:00:00'
    ),
    (
        3,
        '2025-08-10 09:00:00',
        '2025-08-10 10:00:00'
    ),
    (
        4,
        '2025-08-11 11:00:00',
        '2025-08-11 12:00:00'
    ),
    (
        5,
        '2025-08-11 13:00:00',
        '2025-08-11 14:00:00'
    ),
    (
        6,
        '2025-08-11 15:00:00',
        '2025-08-11 16:00:00'
    ),
    (
        7,
        '2025-08-12 17:00:00',
        '2025-08-12 18:00:00'
    ),
    (
        8,
        '2025-08-12 19:00:00',
        '2025-08-12 20:00:00'
    ),
    (
        9,
        '2025-08-12 21:00:00',
        '2025-08-12 22:00:00'
    ),
    (
        10,
        '2025-08-12 23:00:00',
        '2025-08-12 23:30:00'
    ),
    (
        1,
        '2025-08-05 10:30:00',
        '2025-08-05 11:30:00'
    ),
    (
        2,
        '2025-08-05 12:30:00',
        '2025-08-05 13:30:00'
    ),
    (
        3,
        '2025-08-06 14:30:00',
        '2025-08-06 15:30:00'
    ),
    (
        4,
        '2025-08-06 16:30:00',
        '2025-08-06 17:30:00'
    ),
    (
        5,
        '2025-08-07 18:30:00',
        '2025-08-07 19:30:00'
    ),
    (
        6,
        '2025-08-07 20:30:00',
        '2025-08-07 21:30:00'
    ),
    (
        7,
        '2025-08-08 22:30:00',
        '2025-08-08 23:30:00'
    ),
    (
        8,
        '2025-08-09 00:30:00',
        '2025-08-09 01:30:00'
    ),
    (
        1,
        '2025-08-13 21:18:19',
        '2025-08-13 21:19:50'
    ),
    (
        2,
        '2025-08-13 21:23:23',
        '2025-08-13 21:24:56'
    ),
    (
        3,
        '2025-08-13 21:25:00',
        '2025-08-13 21:25:01'
    ),
    (
        4,
        '2025-08-13 21:25:20',
        '2025-08-13 21:25:55'
    ),
    (
        6,
        '2025-08-13 21:28:20',
        '2025-08-13 21:28:46'
    ),
    (
        8,
        '2025-08-13 21:28:21',
        '2025-08-13 21:29:55'
    ),
    (
        9,
        '2025-08-13 21:28:29',
        '2025-08-13 21:28:32'
    ),
    (
        10,
        '2025-08-13 21:28:33',
        '2025-08-13 21:28:46'
    );

CREATE TABLE tickets (
    ticket_id SERIAL PRIMARY KEY,
    ticket_movie_session INT NOT NULL,
    ticket_seat INT NOT NULL,
    ticket_order INT NOT NULL,
    FOREIGN KEY (ticket_movie_session) REFERENCES movie_sessions (ms_id) ON UPDATE CASCADE ON DELETE CASCADE,
    FOREIGN KEY (ticket_seat) REFERENCES seats (seat_id) ON UPDATE CASCADE ON DELETE CASCADE,
    FOREIGN KEY (ticket_order) REFERENCES orders (order_id) ON UPDATE CASCADE ON DELETE CASCADE,
    UNIQUE (
        ticket_movie_session,
        ticket_seat
    )
);

INSERT INTO
    tickets (
        ticket_movie_session,
        ticket_seat,
        ticket_order
    )
VALUES (2, 50, 1),
    (2, 51, 1),
    (2, 52, 1),
    (3, 1, 2),
    (3, 2, 2),
    (3, 3, 2),
    (26, 4, 3),
    (26, 5, 3),
    (27, 6, 4),
    (27, 7, 4),
    (59, 8, 5),
    (59, 9, 5),
    (61, 10, 6),
    (61, 11, 6),
    (61, 12, 6),
    (93, 13, 7),
    (94, 14, 8),
    (106, 15, 9),
    (119, 16, 10),
    (116, 17, 11),
    (125, 18, 12),
    (147, 19, 13),
    (150, 20, 14),
    (150, 21, 15),
    (176, 22, 16),
    (175, 23, 17),
    (168, 24, 18),
    (177, 25, 19),
    (18, 26, 20),
    (11, 27, 21),
    (35, 28, 22),
    (36, 29, 23),
    (60, 30, 24),
    (52, 31, 25),
    (93, 32, 26),
    (110, 33, 27),
    (207, 20, 28),
    (207, 21, 28),
    (207, 61, 29),
    (207, 50, 30),
    (207, 51, 30),
    (207, 52, 30),
    (207, 34, 31),
    (207, 4, 32),
    (207, 5, 33),
    (207, 13, 34),
    (207, 47, 35);


-- Оптимизированная функция, но до добавления столбца ms_time_coefficient в movie_sessions
CREATE OR REPLACE FUNCTION calculate_time_coefficient(start_time TIMESTAMP)
RETURNS DECIMAL(5, 2) AS $$
DECLARE
    coefficient DECIMAL(5, 2);
BEGIN
    -- Используем CASE для определения коэффициента
    coefficient := CASE 
        WHEN EXTRACT(HOUR FROM start_time) = 10 AND EXTRACT(MINUTE FROM start_time) = 0 THEN 0.6
        WHEN EXTRACT(HOUR FROM start_time) = 18 AND EXTRACT(MINUTE FROM start_time) >= 0 THEN 1.15
        WHEN EXTRACT(HOUR FROM start_time) >= 11 AND EXTRACT(HOUR FROM start_time) < 18 THEN 1.0
        ELSE 1.0 -- Значение по умолчанию
    END;

    RETURN coefficient;
END;
$$ LANGUAGE plpgsql;